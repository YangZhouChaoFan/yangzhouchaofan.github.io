<!DOCTYPE html>
<html>
<head>
    <title>陈浩&丁珂的婚礼</title>
    <meta charset='utf-8'>
    <meta name="sharecontent" data-msg-content="欢迎~">
    <link rel="stylesheet" href="style.css" media="screen" type="text/css"/>
    <link href="http://libs.baidu.com/fontawesome/4.0.3/css/font-awesome.css" rel="stylesheet">
</head>
<body>

<audio style="display:none; height: 0" id="bg-music" preload="auto"
       src="https://striker.teambition.net/storage/100nbe9bb57dedcd173c726810770063b3e0?download=bgm.mp3&Signature=eyJhbGciOiJIUzI1NiJ9.eyJyZXNvdXJjZSI6Ii9zdG9yYWdlLzEwMG5iZTliYjU3ZGVkY2QxNzNjNzI2ODEwNzcwMDYzYjNlMCIsImV4cCI6MTQ4MjI3ODQwMH0.-B9z7K0ADGUuWsidolQNWurkLOllEVy-xrwFlR2IlFg&filekey=100nbe9bb57dedcd173c726810770063b3e0"
       loop="loop"></audio>

<div class="marry">

    <div class="marry-text">
        <h1>陈浩&丁珂（婚宴）<i id="musicButton" class="fa fa-music musicButton" style="color: red"></i></h1>
        <h2>酒店：扬州绿地福朋喜来登酒店（三楼福朋宴会厅）</h2>
        <h2>地址：江苏省扬州市邗江区江阳西路109号</h2>
        <h2>日期：2017年1月15日（晚上6点）</h2>
    </div>

    <div class="marry-bg">
        <div>
            <img src="https://striker.teambition.net/thumbnail/110n651a45dbca809fa9b99eb36296bc04fe/w/800/h/1014">
            <img src="https://striker.teambition.net/thumbnail/110n651a45dbca809fa9b99eb36296bc04fe/w/800/h/1014">
            <img src="https://striker.teambition.net/thumbnail/110n651a45dbca809fa9b99eb36296bc04fe/w/800/h/1014">
            <img src="https://striker.teambition.net/thumbnail/110n651a45dbca809fa9b99eb36296bc04fe/w/800/h/1014">
            <img src="https://striker.teambition.net/thumbnail/110n651a45dbca809fa9b99eb36296bc04fe/w/800/h/1014">
            <img src="https://striker.teambition.net/thumbnail/110n651a45dbca809fa9b99eb36296bc04fe/w/800/h/1014">
            <img src="https://striker.teambition.net/thumbnail/110n651a45dbca809fa9b99eb36296bc04fe/w/800/h/1014">
        </div>
    </div>

</div>

<script src="jquery.js"></script>
<script src="turn.js"></script>
<script>

    $("#musicButton").click(function () {
        $(this).toggleClass("musicButton");
        var audio = document.getElementById('bg-music');
        if (audio !== null) {
            if (audio.paused) {
                audio.play();// 这个就是播放
            } else {
                audio.pause();// 这个就是暂停
            }
        }
    });

    $('.marry-bg>div').turn({
        display: "single",
        width: 600,
        height: 762,
        autoCenter: true,
        shadows: $.isTouch,
        acceleration: $.isTouch,
    });

    document.addEventListener('DOMContentLoaded', function () {
        function audioAutoPlay() {
            var audio = document.getElementById('bg-music');
            audio.play();
            document.addEventListener("WeixinJSBridgeReady", function () {
                audio.play();
            }, false);
        }

        audioAutoPlay();
    });

    function autoPlayMusic() {
        // 自动播放音乐效果，解决浏览器或者APP自动播放问题
        function musicInBrowserHandler() {
            musicPlay(true);
            document.body.removeEventListener('touchstart', musicInBrowserHandler);
        }

        document.body.addEventListener('touchstart', musicInBrowserHandler);

        // 自动播放音乐效果，解决微信自动播放问题
        function musicInWeixinHandler() {
            musicPlay(true);
            document.addEventListener("WeixinJSBridgeReady", function () {
                musicPlay(true);
            }, false);
            document.removeEventListener('DOMContentLoaded', musicInWeixinHandler);
        }

        document.addEventListener('DOMContentLoaded', musicInWeixinHandler);
    }

    function musicPlay(isPlay) {
        var media = document.querySelector('#bg-music');
        if (isPlay && media.paused) {
            media.play();
        }
        if (!isPlay && !media.paused) {
            media.pause();
        }
    }

</script>
</body>
</html>
